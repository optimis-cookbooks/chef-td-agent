# LOG AGGREGATOR CONFIG
#
<source>
  type forward
  port 24224    # The port to listen to, default = 24224
  bind 0.0.0.0  # The bind address to listen to, default = 0.0.0.0 (all addresses)
</source>

<match OptimisPt.Rails.**>
  type mongo
  host localhost          # MongoDB hostname
  port 27017              # MongoDB port
  user michael            # Authentication
  password jordan

  database OptimisLog   # Database name
  #capped                 # This option enables capped collection
  #capped_size            # Sets the capped collection size

  #tag_mapped                       # Use Fluentd's tag to determine the destination collection
  #remove_tag_prefix OptimisPt.Rails. # If the tag is "optimis.foo", then the prefix "optimis." is removed
                                   # The inserted collection name is "foo"

  collection Pt           # Collection name, (required, if not tag_mapped)
                          # This configuration is used if the tag is not found
                          # default = 'untagged'

  #buffer_type memory     # memory(default) or file
  #buffer_chunk_limit 8m  # default = 8m
  #buffer_queue_limit 64  # default = 64
  #flush_interval 60s     # default = 60s
  #retry_limit 17         # default = 17
  #retry_wait 1s          # default = 1.0
</match>
